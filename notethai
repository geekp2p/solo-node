ขั้นตอนการขึ้นโปรเจกต์
เตรียมซอร์ส CKPool ให้พร้อมก่อน build

รัน ./ckpool/fetch-source.sh จาก root ของโปรเจกต์ (บน Windows ให้ใช้ Git Bash เพื่อให้คำสั่ง POSIX ทำงานได้) เพื่อดึงซอร์สลงใน ckpool/src/.

หากเครือข่ายคุณดึงจาก Bitbucket ไม่ได้ ให้ git clone -b solobtc https://bitbucket.org/ckolivas/ckpool-solo.git ไว้ที่อื่นแล้วคัดลอกไฟล์ทั้งหมดเข้า ckpool/src/ โดยต้องมีไฟล์ autogen.sh อยู่ก่อนค่อยไปขั้นตอนถัดไป.

(ทางเลือก) ตั้งค่าบัญชี RPC และที่อยู่จ่ายผลตอบแทน

คัดลอก .env.example ไปเป็น .env แล้วแก้ค่าที่ต้องการ เช่น RPC_USER, RPC_PASSWORD, PAYOUT_ADDRESS และพารามิเตอร์ชี้ไปยังโหนด Bitcoin ภายนอก (ถ้ามี).

ถ้าไม่ตั้งค่า ค่าใน .env จะ fallback ไปใช้ดีฟอลต์ที่ระบุไว้ใน docker-compose.yml.

(ทางเลือกสำหรับ Windows) ย้ายที่เก็บ blockchain ไปไดรฟ์อื่น

เพิ่มบรรทัด BITCOIN_MAIN_DATA_PATH=G:/solo/bitcoin-main-data และ BITCOIN_TESTNET_DATA_PATH=G:/solo/bitcoin-testnet-data ใน .env แล้วสร้างโฟลเดอร์ดังกล่าวให้เรียบร้อย ก่อนรัน Docker เพื่อให้ bind mount ทำงานได้.

การตั้งค่านี้ยังคงอ่านไฟล์ bitcoin.conf จาก ./bitcoin-main และ ./bitcoin-testnet แบบ read-only จึงไม่ต้องคัดลอกซ้ำ.

เปิดบริการทั้งหมดด้วย Docker Compose

เมื่อซอร์ส CKPool พร้อมและ (ถ้าต้องการ) .env ถูกตั้งค่าแล้ว ให้รัน docker compose up -d เพื่อ build และเริ่มคอนเทนเนอร์ทั้งหมด.

ตรวจสอบ log ให้แน่ใจว่า bitcoind และ ckpool ทำงานปกติ

ใช้ docker logs -f bitcoind-main, docker logs -f bitcoind-testnet, docker logs -f ckpool-solo-main, และ docker logs -f ckpool-solo-testnet เพื่อตรวจดูการ sync และการเปิด Stratum service.

เชื่อมต่อเครื่องขุด (หลังจากบล็อกเชน sync พอ)

ใช้ Stratum URL ตามเน็ตเวิร์กและ flavor ที่ต้องการ เช่น stratum+tcp://<HOST_IP>:3334 สำหรับ CKPool mainnet หรือ stratum+tcp://<HOST_IP>:13334 สำหรับ CKPool testnet.

อย่าลืมใช้ scheme stratum+tcp:// ไม่ใช่ http:// เพื่อป้องกันการ timeout.

ทำครบตามลำดับนี้ก็สามารถขึ้นสแตก Solo Node mainnet/testnet ได้โดยไม่ต้องแก้โค้ดใด ๆ เพิ่มเติมครับ.